// Copyright {{.Year}} The go-exactonline AUTHORS. All rights reserved.
//
// Use of this source code is governed by a MIT
// license that can be found in the LICENSE file.
// Code generated by gen-services.go; DO NOT EDIT.
package {{.Package}}

type service struct {
	client *api.Client
}

// {{.Name}}Service is responsible for communication with the {{.Name}}
// endpoints of the Exact Online API.
type {{.Name}}Service struct {
    client *api.Client

    common service // Reuse a single struct instead of allocating one for each service on the heap.

    // Endpoints available under this service
    {{- range .Endpoints}}
    {{.Name}} *{{.EndpointServiceName}}
    {{- end}}
}

// New{{.Name}}Service creates a new initialized instance of the
// {{.Name}}Service.
func New{{.Name}}Service(apiClient *api.Client) *{{.Name}}Service {
    s := &{{.Name}}Service{{"{"}}client: apiClient{{"}"}}

    s.common.client = apiClient

    {{range .Endpoints}}
    s.{{.Name}} = (*{{.EndpointServiceName}})(&s.common)
    {{- end}}

    return s
}